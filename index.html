<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ§§ æ˜¥èŠ‚å€’è®¡æ—¶ Â· å†œå†æ–°å¹´</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;
        }

        body {
            min-height: 100vh;
            background: linear-gradient(145deg, #9f1f1f 0%, #6d0f0f 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1.5rem;
            position: relative;
            overflow-x: hidden;
        }

        /* è£…é¥°ç¯ç¬¼ (ç®€åŒ–ç‰ˆ) */
        .lantern-left, .lantern-right {
            position: absolute;
            width: 110px;
            height: 160px;
            background: radial-gradient(circle at 30% 30%, #fbd26a, #d43f3f);
            border-radius: 50% / 30% 30% 20% 20%;
            top: 30px;
            box-shadow: 0 15px 25px rgba(0,0,0,0.5);
            z-index: 2;
        }
        .lantern-left {
            left: 20px;
            transform: rotate(-5deg);
        }
        .lantern-right {
            right: 20px;
            transform: rotate(5deg);
        }
        .lantern-left::before, .lantern-right::before {
            content: "";
            position: absolute;
            width: 24px;
            height: 40px;
            background: #f7d44a;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 6px 6px 0 0;
            box-shadow: inset 0 -2px 5px #b35e1a;
        }
        .lantern-left::after, .lantern-right::after {
            content: "ç¦";
            position: absolute;
            color: #fef7d6;
            font-size: 2.8rem;
            font-weight: bold;
            font-family: "KaiTi", "æ¥·ä½“", serif;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-shadow: 2px 2px 3px #b33636;
        }

        /* ç£¨ç ‚ä¸»å¡ç‰‡ */
        .card {
            background: rgba(255, 245, 225, 0.1);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 215, 0, 0.4);
            border-radius: 68px 20px 68px 20px;
            box-shadow: 0 35px 68px rgba(0, 0, 0, 0.6), 0 0 0 2px #f1b42b inset;
            padding: 2.8rem 3rem;
            max-width: 900px;
            width: 100%;
            text-align: center;
            color: #ffecb3;
            transition: all 0.3s;
            z-index: 10;
        }

        h1 {
            font-size: 3.8rem;
            font-weight: 700;
            letter-spacing: 6px;
            text-shadow: 0 5px 0 #972828, 0 10px 12px black;
            margin-bottom: 0.25rem;
            color: #fff3c9;
            font-family: "åæ–‡æ¥·ä½“", "KaiTi", cursive;
        }

        .subhead {
            font-size: 1.6rem;
            margin-bottom: 2rem;
            border-bottom: 2px dashed #ffc857;
            padding-bottom: 0.8rem;
            display: inline-block;
            color: #ffe9aa;
            font-weight: 300;
            letter-spacing: 2px;
        }

        .festival-name {
            font-size: 2.6rem;
            font-weight: 600;
            background: linear-gradient(135deg, #ffdf8c, #ffb347);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin: 0.5rem 0 0.2rem;
            text-shadow: 0 0 8px #ff4800;
        }

        .gregorian-date {
            font-size: 1.5rem;
            background: rgba(0,0,0,0.3);
            display: inline-block;
            padding: 0.4rem 1.8rem;
            border-radius: 40px;
            backdrop-filter: blur(4px);
            border: 1px solid #ffb347;
            margin-bottom: 2rem;
            color: #ffdb9d;
        }

        /* å€’è®¡æ—¶é¢æ¿ */
        .countdown-panel {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 1.2rem;
            margin: 2rem 0 1rem;
        }

        .time-block {
            background: rgba(10, 5, 0, 0.6);
            backdrop-filter: blur(6px);
            border-radius: 30px;
            padding: 1.2rem 0.8rem;
            min-width: 120px;
            box-shadow: 0 10px 15px -5px #3e1a1a, 0 0 0 2px #e9b13b inset;
            border: 1px solid #ffda7c;
        }

        .time-number {
            font-size: 4.5rem;
            font-weight: 800;
            line-height: 1;
            color: #ffd966;
            text-shadow: 0 0 12px #ff9f00, 0 4px 4px #5f2b2b;
        }

        .time-label {
            font-size: 1.2rem;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: #ffe3a5;
            border-top: 1px dashed #dba959;
            padding-top: 0.5rem;
            margin-top: 0.3rem;
        }

        .greeting-message {
            font-size: 3rem;
            font-weight: bold;
            color: #ffd966;
            background: rgba(129, 24, 24, 0.5);
            border-radius: 60px;
            padding: 1.5rem 2rem;
            margin: 2rem 0;
            border: 3px solid gold;
            text-shadow: 3px 3px 0 #a53232;
            display: none;  /* é»˜è®¤éšè—ï¼Œç”±JSæ§åˆ¶ */
            backdrop-filter: blur(5px);
        }

        .footer-note {
            margin-top: 2.5rem;
            font-size: 1.2rem;
            color: #ffd7a5;
            opacity: 0.9;
            border-top: 1px solid #f1b151;
            padding-top: 1.5rem;
        }

        /* ç§»åŠ¨ç«¯é€‚é… */
        @media (max-width: 700px) {
            .card { padding: 2rem 1rem; }
            h1 { font-size: 2.6rem; }
            .time-number { font-size: 3rem; }
            .time-block { min-width: 75px; padding: 0.8rem 0.2rem; }
            .lantern-left, .lantern-right { width: 70px; height: 110px; top: 15px; }
            .lantern-left::after, .lantern-right::after { font-size: 2rem; }
        }

        @media (max-width: 450px) {
            .countdown-panel { gap: 0.6rem; }
            .time-block { min-width: 60px; }
            .time-number { font-size: 2.2rem; }
            .festival-name { font-size: 1.9rem; }
        }
    </style>
</head>
<body>
    <!-- è£…é¥°ç¯ç¬¼ï¼ˆçº¯æ°”æ°›ï¼‰ -->
    <div class="lantern-left"></div>
    <div class="lantern-right"></div>

    <div class="card">
        <h1>ğŸ‰ æ˜¥èŠ‚å€’è®¡æ—¶</h1>
        <div class="subhead">å†œå†æ–°å¹´ Â· é˜–å®¶å›¢åœ†</div>

        <!-- åŠ¨æ€å†…å®¹åŒºåŸŸ -->
        <div id="festivalName" class="festival-name">ä¸™åˆå¹´ï¼ˆé©¬å¹´ï¼‰</div>
        <div id="gregorianDisplay" class="gregorian-date">2026å¹´2æœˆ17æ—¥</div>

        <!-- å€’è®¡æ—¶å— (æ­£å¸¸æ˜¾ç¤º) -->
        <div id="countdownNormal" class="countdown-panel">
            <div class="time-block">
                <div id="days" class="time-number">00</div>
                <div class="time-label">å¤©</div>
            </div>
            <div class="time-block">
                <div id="hours" class="time-number">00</div>
                <div class="time-label">æ—¶</div>
            </div>
            <div class="time-block">
                <div id="minutes" class="time-number">00</div>
                <div class="time-label">åˆ†</div>
            </div>
            <div class="time-block">
                <div id="seconds" class="time-number">00</div>
                <div class="time-label">ç§’</div>
            </div>
        </div>

        <!-- æ˜¥èŠ‚å½“å¤©æ˜¾ç¤ºçš„ç¥ç¦ (éšè—) -->
        <div id="greetingBlock" class="greeting-message">
            ğŸ‰ æ–°æ˜¥å¤§å‰ï¼ä¸‡äº‹å¦‚æ„ ğŸ‰
        </div>

        <div class="footer-note">
            â±ï¸ ç²¾å‡†åˆ°ç§’ Â· å…±ç›¼å›¢åœ†
        </div>
    </div>

    <script>
        (function() {
            // ---------- æ˜¥èŠ‚æ•°æ® (åŒ—äº¬æ—¶é—´ 00:00 +08:00) ----------
            const FESTIVALS = [
                { full: "2025-01-29T00:00:00+08:00", name: "ä¹™å·³å¹´ï¼ˆè›‡å¹´ï¼‰" },
                { full: "2026-02-17T00:00:00+08:00", name: "ä¸™åˆå¹´ï¼ˆé©¬å¹´ï¼‰" },
                { full: "2027-02-06T00:00:00+08:00", name: "ä¸æœªå¹´ï¼ˆç¾Šå¹´ï¼‰" },
                { full: "2028-01-26T00:00:00+08:00", name: "æˆŠç”³å¹´ï¼ˆçŒ´å¹´ï¼‰" },
                { full: "2029-02-13T00:00:00+08:00", name: "å·±é…‰å¹´ï¼ˆé¸¡å¹´ï¼‰" },
                { full: "2030-02-03T00:00:00+08:00", name: "åºšæˆŒå¹´ï¼ˆç‹—å¹´ï¼‰" },
                { full: "2031-02-22T00:00:00+08:00", name: "è¾›äº¥å¹´ï¼ˆçŒªå¹´ï¼‰" },
                { full: "2032-02-11T00:00:00+08:00", name: "å£¬å­å¹´ï¼ˆé¼ å¹´ï¼‰" },
                { full: "2033-01-31T00:00:00+08:00", name: "ç™¸ä¸‘å¹´ï¼ˆç‰›å¹´ï¼‰" },
                { full: "2034-02-19T00:00:00+08:00", name: "ç”²å¯…å¹´ï¼ˆè™å¹´ï¼‰" },
                { full: "2035-02-08T00:00:00+08:00", name: "ä¹™å¯å¹´ï¼ˆå…”å¹´ï¼‰" },
                { full: "2036-01-28T00:00:00+08:00", name: "ä¸™è¾°å¹´ï¼ˆé¾™å¹´ï¼‰" }
            ];  // å·²è¦†ç›–è‡³2036å¹´ï¼Œè¶³å¤Ÿä½¿ç”¨

            // è·å–æŒ‡å®šæ—¶é—´çš„åŒ—äº¬æ—¶é—´æ—¥æœŸå­—ç¬¦ä¸² (æ ¼å¼ yyyy-mm-dd)
            function getBeijingDateStr(dateObj) {
                // ä½¿ç”¨ Intl æ ¼å¼åŒ–åŒ—äº¬æ—¶é—´å¹´æœˆæ—¥
                const formatter = new Intl.DateTimeFormat('zh-CN', {
                    timeZone: 'Asia/Shanghai',
                    year: 'numeric',
                    month: '2-digit',
                    day: '2-digit'
                });
                // è¿”å›ç±»ä¼¼ "2026/02/17" æ ¼å¼ï¼Œç»Ÿä¸€æ›¿æ¢ä¸º "-"
                return formatter.format(dateObj).replace(/\//g, '-');
            }

            // æ ¸å¿ƒï¼šè·å–å½“å‰åº”è¯¥å…³æ³¨çš„æ˜¥èŠ‚ (ä»Šå¤©è¿‡èŠ‚çš„ä¼˜å…ˆï¼Œå¦åˆ™è¿”å›ä¸‹ä¸€ä¸ªæœªæ¥æ˜¥èŠ‚)
            function getTargetFestival(now) {
                const nowBeijing = getBeijingDateStr(now);

                // 1. å…ˆçœ‹ä»Šå¤©æ˜¯å¦æœ‰æ˜¥èŠ‚ (æŒ‰åŒ—äº¬æ—¥æœŸ)
                for (let f of FESTIVALS) {
                    // ä»fullå­—ç¬¦ä¸²æå–æ—¥æœŸéƒ¨åˆ† (yyyy-mm-dd)
                    const festDate = f.full.slice(0, 10);   // "2026-02-17"
                    if (festDate === nowBeijing) {
                        return { type: 'today', festival: f };   // ä»Šå¤©å°±æ˜¯æ˜¥èŠ‚
                    }
                }

                // 2. å¦åˆ™æ‰¾ä¸‹ä¸€ä¸ªæœªæ¥çš„æ˜¥èŠ‚ (æ¯”è¾ƒæ—¶é—´æˆ³)
                const nowTime = now.getTime();
                for (let f of FESTIVALS) {
                    const festTime = new Date(f.full).getTime();   // åŒ—äº¬æ—¶é—´0ç‚¹å¯¹åº”çš„UTCæ¯«ç§’
                    if (festTime > nowTime) {
                        return { type: 'future', festival: f };
                    }
                }

                // 3. æ‰€æœ‰æ˜¥èŠ‚éƒ½è¿‡äº† (è¶…å‡º2036å¹´)
                return { type: 'none', festival: null };
            }

            // è¡¥é›¶å‡½æ•°
            function pad(num) {
                return num < 10 ? '0' + num : num;
            }

            // æ›´æ–°é¡µé¢ä¸Šçš„æ‰€æœ‰å†…å®¹
            function refreshCountdown() {
                const now = new Date();
                const target = getTargetFestival(now);

                // è·å–æ˜¾ç¤ºç»„ä»¶
                const festivalNameEl = document.getElementById('festivalName');
                const gregorianEl = document.getElementById('gregorianDisplay');
                const normalDiv = document.getElementById('countdownNormal');
                const greetingDiv = document.getElementById('greetingBlock');
                const daysEl = document.getElementById('days');
                const hoursEl = document.getElementById('hours');
                const minutesEl = document.getElementById('minutes');
                const secondsEl = document.getElementById('seconds');

                // å¤„ç†æ— æ•°æ®æƒ…å†µ (æ‰€æœ‰æ˜¥èŠ‚å·²è¿‡)
                if (target.type === 'none' || !target.festival) {
                    festivalNameEl.textContent = 'æ–°æ˜¥å¾…æ›´æ–°';
                    gregorianEl.textContent = 'æ•¬è¯·æœŸå¾…';
                    normalDiv.style.display = 'none';
                    greetingDiv.style.display = 'block';
                    greetingDiv.textContent = 'ğŸ§§ æ›´å¤šæ˜¥èŠ‚å³å°†åˆ°æ¥ ğŸ§§';
                    return;
                }

                const fest = target.festival;
                // è®¾ç½®å…¬å†æ˜¾ç¤º (ä»fullé‡Œå–æ—¥æœŸéƒ¨åˆ†)
                const festDateStr = fest.full.slice(0, 10).replace(/-/g, 'å¹´').replace(/-/g, 'æœˆ') + 'æ—¥';
                gregorianEl.textContent = festDateStr;     // æ˜¾ç¤º "2026å¹´02æœˆ17æ—¥"
                festivalNameEl.textContent = fest.name;

                // å¦‚æœä»Šå¤©æ˜¯æ˜¥èŠ‚ï¼Œå±•ç¤ºç¥ç¦ï¼Œéšè—å€’è®¡æ—¶
                if (target.type === 'today') {
                    normalDiv.style.display = 'none';
                    greetingDiv.style.display = 'block';
                    greetingDiv.textContent = 'ğŸŠ æ–°æ˜¥å¿«ä¹ Â· å²å²å¹³å®‰ ğŸŠ';
                    return;
                }

                // æœªæ¥æ˜¥èŠ‚ï¼šå±•ç¤ºå€’è®¡æ—¶ï¼Œéšè—ç¥ç¦
                normalDiv.style.display = 'flex';
                greetingDiv.style.display = 'none';

                // è®¡ç®—å‰©ä½™æ—¶é—´ (åŸºäºåŒ—äº¬æ—¶é—´0ç‚¹)
                const targetTime = new Date(fest.full).getTime();   // UTCæ—¶é—´æˆ³ï¼Œå¯¹åº”åŒ—äº¬æ—¶é—´0ç‚¹
                const nowTime = now.getTime();
                let diffMs = targetTime - nowTime;

                // æç«¯æƒ…å†µï¼šå¦‚æœå› ä¸ºç§’çº§è¯¯å·®å¯¼è‡´è´Ÿæ•°ï¼Œä½†typeå·²ç»æ˜¯futureï¼Œç†è®ºä¸ŠdiffMs > 0
                // ä½†ä»¥é˜²ä¸‡ä¸€ï¼Œå¦‚æœå°äº0ï¼Œå½’0å¤„ç† (ä¸ä¼šæ˜¾ç¤ºè´Ÿ)
                if (diffMs < 0) diffMs = 0;

                // è½¬æ¢ä¸ºå¤©ã€æ—¶ã€åˆ†ã€ç§’
                const totalSeconds = Math.floor(diffMs / 1000);
                const days = Math.floor(totalSeconds / 86400);
                const hours = Math.floor((totalSeconds % 86400) / 3600);
                const minutes = Math.floor((totalSeconds % 3600) / 60);
                const seconds = totalSeconds % 60;

                // æ›´æ–°DOM
                daysEl.textContent = pad(days);
                hoursEl.textContent = pad(hours);
                minutesEl.textContent = pad(minutes);
                secondsEl.textContent = pad(seconds);
            }

            // ç«‹å³æ‰§è¡Œä¸€æ¬¡
            refreshCountdown();

            // æ¯ç§’æ›´æ–°
            setInterval(refreshCountdown, 1000);
        })();
    </script>
    <!-- æ³¨ï¼šæ˜¥èŠ‚æ—¥æœŸæ•°æ®åŸºäºå¤©æ–‡æ¨ç®—ï¼Œè¦†ç›–2025-2036å¹´ï¼Œå¯å¹³æ»‘è¿‡æ¸¡ -->
</body>
</html>
